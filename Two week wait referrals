# Using indicator ID = 92605, and used public health data API to get URL

X <- read.csv(url("https://fingertips.phe.org.uk/api/all_data/csv/by_indicator_id?indicator_ids=92605"))
view(X)

# Filter for Mid-South Essex using Area Code: E54000026

MidSouth <- filter(X, Area.Code == 'E54000026')
view(MidSouth)

# Select the years from 2015/16 - 19/20 to 2017/18 - 21/22

MidSouthEssex <- MidSouth[7:9,]
view(MidSouthEssex)


# Form a line graph using count to see how much the two week wait referrals have gone up.

L <- ggplot(MidSouth, aes(x = Time.period.Sortable, y = Count)) +
  geom_line()+
  geom_point() +
  ggtitle('Two Week Wait Times in Mid-South Essex') +
  transition_reveal(Time.period.Sortable) +
  view_follow()

anim_save('midsouthessex.png', L)

install.packages('gifski')
install.packages('png')
library(gifski)
library(png)
animate(L, duration = 5, fps = 20, width = 450, height = 450, renderer = gifski_renderer())



# Filter Data on Northeast London and during the years of 2017/18 -21/22



